<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>North Shore Zen</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="North Shore Zen is a Soto Zen practice community offering regular zazen, retreats, and study on the North Shore.">

    <style>
        /* Reset and base */

        *,
        *::before,
        *::after {
            box-sizing: border-box;
        }

        html {
            margin: 0;
            padding: 0;
            scroll-behavior: smooth;
            height: 100%;
        }

        body {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
                         "Source Sans Pro", sans-serif;
            font-size: 16px;
            line-height: 1.7;
            color: #e5e7eb;
            background:
                radial-gradient(circle at top left, #020617 0, #020617 38%, transparent 60%),
                radial-gradient(circle at bottom right, #020617 0, #020617 55%),
                radial-gradient(circle at center, #020617 0, #020617 100%);
            background-attachment: fixed;
            -webkit-font-smoothing: antialiased;

            /* Dramatic "slide" behaviour */
            overflow-y: auto;
            scroll-snap-type: y mandatory;

            /* Make room for fixed header */
            padding-top: 4.3rem;
        }

        a {
            color: inherit;
        }

        /* Sections as slides */

        .section {
            position: relative;
            min-height: 100vh;
            padding: 5.5rem 1.5rem 4rem;
            scroll-snap-align: start;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .section-inner {
            max-width: 1120px;
            width: 100%;
            position: relative;
        }

        .section-surface {
            position: relative;
            background: radial-gradient(circle at top left, rgba(248, 250, 252, 0.97), rgba(30, 64, 175, 0.02));
            border-radius: 1.6rem;
            border: 1px solid rgba(148, 163, 184, 0.6);
            box-shadow:
                0 26px 70px rgba(15, 23, 42, 0.85),
                0 0 0 1px rgba(15, 23, 42, 0.5);
            padding: 2.6rem 2.4rem;
            overflow: hidden;
            backdrop-filter: blur(16px);

            /* Core dramatic hide/show behaviour */
            opacity: 0;
            transform: translate3d(0, 60px, 0) scale(0.96);
            filter: blur(18px);
            pointer-events: none;
            transition:
                opacity 0.85s cubic-bezier(0.16, 1, 0.3, 1),
                transform 0.85s cubic-bezier(0.16, 1, 0.3, 1),
                filter 0.85s cubic-bezier(0.16, 1, 0.3, 1);
            will-change: opacity, transform, filter;
        }

        .section-surface--dark {
            background: radial-gradient(circle at top, rgba(15, 23, 42, 0.96), rgba(15, 23, 42, 0.98));
            border-color: rgba(30, 64, 175, 0.85);
            color: #e5e7eb;
        }

        .section-surface--dark p {
            color: #e5e7eb;
        }

        .section-surface.is-active {
            opacity: 1;
            transform: translate3d(0, 0, 0) scale(1);
            filter: blur(0);
            pointer-events: auto;
        }

        .section-surface--from-left {
            transform: translate3d(-80px, 80px, 0) scale(0.95);
        }

        .section-surface--from-right {
            transform: translate3d(80px, 80px, 0) scale(0.95);
        }

        .section-surface.is-active.section-surface--from-left,
        .section-surface.is-active.section-surface--from-right {
            transform: translate3d(0, 0, 0) scale(1);
        }

        .two-column {
            display: grid;
            grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
            gap: 2.75rem;
            align-items: center;
        }

        @media (max-width: 920px) {
            .section {
                padding-top: 4.5rem;
            }

            .section-surface {
                padding: 2.1rem 1.9rem;
            }

            .two-column {
                grid-template-columns: minmax(0, 1fr);
            }
        }

        @media (max-width: 640px) {
            .section-surface {
                padding: 1.8rem 1.6rem;
            }
        }

        /* Typography */

        h1, h2, h3, h4 {
            font-weight: 300;
            margin: 0 0 0.6em;
            letter-spacing: 0.08em;
            text-transform: uppercase;
        }

        h1 { font-size: 2rem; }
        h2 { font-size: 1.7rem; }
        h3 { font-size: 1.15rem; }

        p {
            margin: 0 0 1.1em;
            color: #020617;
        }

        .muted {
            color: #6b7280;
            font-size: 0.95rem;
        }

        .eyebrow {
            font-size: 0.85rem;
            letter-spacing: 0.18em;
            text-transform: uppercase;
            color: #64748b;
            margin-bottom: 0.55rem;
        }

        .section-surface--dark .eyebrow {
            color: #9ca3af;
        }

        /* Header and navigation */

        .site-header {
            position: fixed;      /* changed from sticky */
            top: 0;
            left: 0;
            right: 0;
            z-index: 200;
            backdrop-filter: blur(16px);
            background: linear-gradient(to bottom, rgba(2, 6, 23, 0.96), rgba(2, 6, 23, 0.9));
            border-bottom: 1px solid rgba(30, 64, 175, 0.7);
            transition: box-shadow 0.25s ease-out, background 0.25s ease-out, border-color 0.25s ease-out;
        }

        .site-header.scrolled {
            box-shadow: 0 18px 50px rgba(15, 23, 42, 0.95);
            background: linear-gradient(to bottom, rgba(2, 6, 23, 0.99), rgba(2, 6, 23, 0.96));
            border-bottom-color: rgba(56, 189, 248, 0.75);
        }

        .site-header-inner {
            max-width: 1120px;
            margin: 0 auto;
            padding: 0.6rem 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo img {
            height: 70px;
            width: auto;
            display: block;
            filter: drop-shadow(0 16px 35px rgba(15, 23, 42, 0.95));
        }

        .title-group {
            flex: 1;
        }

        .site-title {
            margin: 0;
            font-size: 1.35rem;
            text-transform: uppercase;
            letter-spacing: 0.18em;
            color: #e5e7eb;
        }

        .site-subtitle {
            margin: 0.1rem 0 0;
            font-size: 0.9rem;
            letter-spacing: 0.16em;
            text-transform: uppercase;
            color: #9ca3af;
        }

        /* Navigation */

        .site-nav {
            display: flex;
            gap: 1.1rem;
            align-items: center;
        }

        .site-nav a {
            font-size: 0.8rem;
            letter-spacing: 0.18em;
            text-transform: uppercase;
            text-decoration: none;
            color: #e5e7eb;
            padding: 0.25rem 0;
            position: relative;
            opacity: 0.72;
        }

        .site-nav a::before {
            content: "";
            position: absolute;
            inset: 0.1rem 0;
            border-radius: 999px;
            background: radial-gradient(circle at top, rgba(56, 189, 248, 0.28), rgba(8, 47, 73, 0));
            opacity: 0;
            transform: scaleX(0.7);
            transform-origin: center;
            transition: opacity 0.18s ease-out, transform 0.18s ease-out;
        }

        .site-nav a::after {
            content: "";
            position: absolute;
            left: 0;
            bottom: -0.15rem;
            width: 100%;
            height: 1px;
            background: linear-gradient(to right, #f97316, #22c55e);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.2s ease-out;
        }

        .site-nav a span {
            position: relative;
            z-index: 1;
        }

        .site-nav a:hover::before,
        .site-nav a:focus-visible::before {
            opacity: 1;
            transform: scaleX(1);
        }

        .site-nav a:hover::after,
        .site-nav a:focus-visible::after {
            transform: scaleX(1);
        }

        .site-nav a:hover,
        .site-nav a:focus-visible {
            opacity: 1;
            color: #f9fafb;
        }

        .site-nav a.is-active::after {
            transform: scaleX(1);
        }

        .site-nav a.is-active {
            opacity: 1;
        }

        /* Mobile nav toggle */

        .nav-toggle {
            display: none;
            background: none;
            border: none;
            padding: 0.25rem;
            margin-left: auto;
            cursor: pointer;
        }

        .nav-toggle-bar {
            width: 22px;
            height: 2px;
            background-color: #e5e7eb;
            display: block;
            margin: 4px 0;
            transition: transform 0.18s ease, opacity 0.18s ease;
        }

        .nav-toggle-label {
            position: absolute;
            left: -9999px;
        }

        .nav-toggle[aria-expanded="true"] .nav-toggle-bar:nth-child(1) {
            transform: translateY(6px) rotate(45deg);
        }

        .nav-toggle[aria-expanded="true"] .nav-toggle-bar:nth-child(2) {
            opacity: 0;
        }

        .nav-toggle[aria-expanded="true"] .nav-toggle-bar:nth-child(3) {
            transform: translateY(-6px) rotate(-45deg);
        }

        /* Hero */

        .hero-surface {
            display: grid;
            grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
            gap: 2.75rem;
            align-items: center;
            background: radial-gradient(circle at top left, rgba(239, 246, 255, 0.99), rgba(226, 232, 240, 0.97));
        }

        .hero-text h2 {
            font-size: 2.2rem;
        }
.hero-text h2 {
    color: #0b1120; /* example: very dark blue-grey */
}
        .hero-text p {
            font-size: 1.04rem;
        }

        .hero-cta {
            margin-top: 1.25rem;
        }

        .hero-image-wrapper {
            position: relative;
            perspective: 1200px;
        }

        .hero-image {
            transform-origin: center;
            will-change: transform;
            transition: transform 0.25s ease-out, box-shadow 0.25s ease-out;
        }

        .hero-image img {
            max-width: 100%;
            height: auto;
            display: block;
            border-radius: 1.3rem;
            box-shadow:
                0 32px 80px rgba(15, 23, 42, 0.9),
                0 0 0 1px rgba(148, 163, 184, 0.55);
        }

        .hero-image-glow {
            position: absolute;
            inset: 10% -18%;
            background:
                radial-gradient(circle at top, rgba(59, 130, 246, 0.65), transparent 60%),
                radial-gradient(circle at bottom, rgba(244, 114, 182, 0.55), transparent 65%);
            filter: blur(28px);
            opacity: 0.95;
            z-index: -1;
        }

        @media (max-width: 960px) {
            .hero-surface {
                grid-template-columns: minmax(0, 1fr);
            }
        }

        /* Buttons */

        .button {
            display: inline-block;
            padding: 0.7rem 1.5rem;
            border-radius: 999px;
            border: none;
            text-decoration: none;
            font-size: 0.95rem;
            font-weight: 500;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            background: linear-gradient(to right, #f97316, #22c55e);
            color: #020617;
            margin-right: 0.75rem;
            box-shadow: 0 20px 50px rgba(15, 23, 42, 0.75);
            transition:
                transform 0.16s ease-out,
                box-shadow 0.16s ease-out,
                filter 0.16s ease-out;
        }

        .button:hover,
        .button:focus-visible {
            transform: translateY(-3px);
            box-shadow: 0 26px 65px rgba(15, 23, 42, 0.9);
            filter: brightness(1.04);
        }

        .button-secondary {
            background: linear-gradient(to right, #020617, #1f2937);
            color: #e5e7eb;
        }

        /* Schedule cards */

        .schedule-grid {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 1.7rem;
            margin-top: 1.8rem;
        }

        @media (max-width: 880px) {
            .schedule-grid {
                grid-template-columns: minmax(0, 1fr);
            }
        }

        .schedule-item {
            padding: 1.25rem 1.45rem;
            border-radius: 1.1rem;
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.06), rgba(15, 23, 42, 0.12));
            border: 1px solid rgba(148, 163, 184, 0.95);
            box-shadow: 0 18px 50px rgba(15, 23, 42, 0.55);
            backdrop-filter: blur(14px);
            position: relative;
            overflow: hidden;
            transition: transform 0.16s ease-out, box-shadow 0.16s ease-out, border-color 0.16s ease-out;
        }

        .schedule-item::before {
            content: "";
            position: absolute;
            inset: -30%;
            opacity: 0;
            background:
                radial-gradient(circle at top left, rgba(56, 189, 248, 0.34), transparent 60%),
                radial-gradient(circle at bottom right, rgba(244, 114, 182, 0.38), transparent 65%);
            transition: opacity 0.22s ease-out;
            pointer-events: none;
        }

        .schedule-item h3 {
            margin-bottom: 0.4rem;
        }

        .schedule-item p {
            color: #020617;
        }

        .schedule-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 24px 70px rgba(15, 23, 42, 0.9);
            border-color: rgba(59, 130, 246, 0.9);
        }

        .schedule-item:hover::before {
            opacity: 1;
        }

        /* Figure */

        .figure-elevated {
            border-radius: 1.3rem;
            overflow: hidden;
            background-color: #020617;
            box-shadow:
                0 30px 80px rgba(15, 23, 42, 0.95),
                0 0 0 1px rgba(148, 163, 184, 0.6);
        }

        .figure-elevated img {
            width: 100%;
            display: block;
        }

        .figure-elevated figcaption {
            padding: 0.75rem 1.1rem 1rem;
            font-size: 0.9rem;
            color: #dbeafe;
            background: radial-gradient(circle at top, rgba(37, 99, 235, 0.7), rgba(15, 23, 42, 0.98));
        }

        /* Contact */

        .contact-line {
            display: flex;
            align-items: center;
            gap: 0.55rem;
        }

        .icon-envelope {
            width: 19px;
            height: 19px;
            display: inline-block;
        }

        .contact-line a {
            color: inherit;
            text-decoration: none;
            border-bottom: 1px dashed rgba(148, 163, 184, 0.95);
        }

        .contact-line a:hover,
        .contact-line a:focus-visible {
            border-bottom-style: solid;
        }

        /* Footer */

        .site-footer {
            padding: 2rem 1.5rem 2.6rem;
            background: radial-gradient(circle at top, #020617, #020617);
            color: #9ca3af;
            text-align: center;
            border-top: 1px solid rgba(30, 64, 175, 0.8);
            box-shadow: 0 -20px 60px rgba(15, 23, 42, 0.95);
        }

        .site-footer-inner {
            max-width: 1120px;
            margin: 0 auto;
        }

        .site-footer p {
            margin: 0.3rem 0;
        }

        .footer-meta {
            font-size: 0.9rem;
            color: #6b7280;
        }

        /* Responsive nav */

        @media (max-width: 860px) {
            .site-nav {
                position: absolute;
                top: 100%;
                right: 0;
                left: 0;
                flex-direction: column;
                background: radial-gradient(circle at top, rgba(2, 6, 23, 0.98), rgba(2, 6, 23, 0.98));
                padding: 0.85rem 1.5rem 1.2rem;
                border-bottom: 1px solid rgba(30, 64, 175, 0.75);
                transform: translateY(-24px);
                opacity: 0;
                pointer-events: none;
                transition: opacity 0.18s ease-out, transform 0.18s ease-out;
            }

            .site-nav a {
                padding: 0.48rem 0;
            }

            .site-nav.site-nav-open {
                opacity: 1;
                pointer-events: auto;
                transform: translateY(0);
            }

            .nav-toggle {
                display: block;
            }
        }
    </style>
</head>

<body>

<header class="site-header">
    <div class="site-header-inner">
        <a href="#top" class="logo">
            <img src="img/enso_header.png" alt="Enso symbol used as North Shore Zen logo">
        </a>
        <div class="title-group">
            <h1 class="site-title">North Shore Zen</h1>
            <p class="site-subtitle">A Soto Zen Practice Community</p>
        </div>

        <button class="nav-toggle" aria-expanded="false" aria-controls="main-nav">
            <span class="nav-toggle-bar"></span>
            <span class="nav-toggle-bar"></span>
            <span class="nav-toggle-bar"></span>
            <span class="nav-toggle-label">Menu</span>
        </button>

        <nav id="main-nav" class="site-nav" aria-label="Primary navigation">
            <a href="#welcome"><span>Welcome</span></a>
            <a href="#schedule"><span>Schedule</span></a>
            <a href="#practice"><span>Practice</span></a>
            <a href="#teachers"><span>Teachers</span></a>
            <a href="#visiting"><span>Visiting</span></a>
            <a href="#support"><span>Support</span></a>
            <a href="#contact"><span>Contact</span></a>
        </nav>
    </div>
</header>

<main id="top">
    <!-- Hero -->
    <section id="welcome" class="section">
        <div class="section-inner">
            <div class="section-surface hero-surface section-surface--from-left" data-section="welcome">
                <div class="hero-text">
                    <p class="eyebrow">On the North Shore</p>
                    <h2>Welcome to North Shore Zen</h2>
                    <p>
                        North Shore Zen is a lay Soto Zen community dedicated to the practice of zazen,
                        the study of Buddha-dharma, and the expression of compassion in daily life.
                        We offer regular sitting, retreats, and study opportunities for those wishing
                        to make Zen practice part of an ordinary, contemporary life.
                    </p>
                    <p class="hero-cta">
                        <a href="#schedule" class="button">See practice schedule</a>
                        <a href="#visiting" class="button button-secondary">How to visit</a>
                    </p>
                </div>
                <div class="hero-image-wrapper">
                    <div class="hero-image-glow"></div>
                    <figure class="hero-image">
                        <img src="img/bells.png" alt="Meditation bowls on colourful cushions">
                    </figure>
                </div>
            </div>
        </div>
    </section>

    <!-- Practice Hall / Manjushri -->
    <section id="practice" class="section">
        <div class="section-inner">
            <div class="section-surface section-surface--dark two-column section-surface--from-right" data-section="practice">
                <div class="col">
                    <p class="eyebrow">In the zendo</p>
                    <h2>Practice in the Zendo</h2>
                    <p>
                        Our zendo is a dedicated meditation hall designed for quiet, stable sitting.
                        Periods of zazen are interwoven with kinhin (walking meditation), service,
                        and opportunities for interview with a teacher when available.
                        The physical form of practice supports the cultivation of stillness,
                        clarity, and compassionate action.
                    </p>
                    <p>
                        Both newcomers and experienced practitioners are welcome. Orientation is
                        offered on a regular basis so that new participants can enter the schedule
                        safely and with clear instruction.
                    </p>
                </div>
                <figure class="col figure-elevated">
                    <img src="img/photo_manjushri-in-zendo.png"
                         alt="Bronze Manjushri statue with incense bowl in the meditation hall">
                    <figcaption>
                        Manjushri, bodhisattva of wisdom, in the North Shore Zen meditation hall.
                    </figcaption>
                </figure>
            </div>
        </div>
    </section>

    <!-- Schedule -->
    <section id="schedule" class="section">
        <div class="section-inner">
            <div class="section-surface section-surface--from-left" data-section="schedule">
                <p class="eyebrow">Weekly rhythm</p>
                <h2>Weekly Schedule</h2>
                <p>
                    The schedule below indicates our regular weekly practice times.
                    Please confirm special events and holiday changes via the newsletter
                    or by contacting us directly.
                </p>

                <div class="schedule-grid">
                    <div class="schedule-item">
                        <h3>Morning Zazen</h3>
                        <p>Tuesday &amp; Thursday · 6:30 – 7:30 a.m.</p>
                        <p>Two periods of zazen with kinhin.</p>
                    </div>
                    <div class="schedule-item">
                        <h3>Evening Zazen</h3>
                        <p>Monday &amp; Wednesday · 7:30 – 9:00 p.m.</p>
                        <p>Zazen, service, and occasional dharma talk.</p>
                    </div>
                    <div class="schedule-item">
                        <h3>Saturday Practice</h3>
                        <p>Most Saturdays · 9:00 a.m. – 12:00 p.m.</p>
                        <p>Extended morning of sitting and walking meditation.</p>
                    </div>
                    <div class="schedule-item">
                        <h3>Retreats &amp; Sesshin</h3>
                        <p>Weekend and multi-day retreats throughout the year.</p>
                        <p>See announcements or join our mailing list for dates.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Teachers -->
    <section id="teachers" class="section">
        <div class="section-inner">
            <div class="section-surface section-surface--dark two-column section-surface--from-right" data-section="teachers">
                <div class="col">
                    <p class="eyebrow">Lineage</p>
                    <h2>Teachers and Lineage</h2>
                    <p>
                        North Shore Zen practises in the tradition of Soto Zen, in the lineage
                        of Dōgen Zenji and Keizan Zenji. Our teaching is grounded in the classical
                        forms of the Zen monastic tradition and adapted for lay life on the North Shore.
                    </p>
                    <p>
                        The community is guided by teachers and senior students who offer formal
                        teaching, dokusan or interview when in residence, and support for individual
                        practice questions. We maintain ongoing relationships with our wider Zen
                        lineage and sister communities.
                    </p>
                </div>
                <div class="col">
                    <h3>Our Approach</h3>
                    <p>
                        We emphasise consistent sitting, ethical conduct, and the integration of
                        practice with family, work, and community life. Study of foundational Zen
                        texts, chanting service, and ritual are used not as ornament but as
                        practical containers for sustained attention and compassion.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Visiting -->
    <section id="visiting" class="section">
        <div class="section-inner">
            <div class="section-surface two-column section-surface--from-left" data-section="visiting">
                <div class="col">
                    <p class="eyebrow">First visit</p>
                    <h2>Visiting for the First Time</h2>
                    <p>
                        Newcomers are welcome. We ask that first-time visitors contact us in advance
                        so that we can arrange a brief orientation. Orientation includes instruction
                        in posture, zendo forms, and how to participate in chanting and bowing if
                        you wish to do so.
                    </p>
                    <p>
                        Please wear modest, comfortable clothing in subdued colours. Arrive at least
                        ten minutes before the first period of zazen so you have time to settle and
                        find a seat. Chairs are available for those who do not sit on cushions.
                    </p>
                </div>
                <div class="col">
                    <h3>Accessibility</h3>
                    <p>
                        We strive to make practice accessible. If you have mobility, sensory,
                        or health considerations, please let us know in advance so that we can
                        adjust seating, entry, or instruction. Quiet arrival and departure during
                        scheduled breaks can usually be accommodated.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Support / Donations -->
    <section id="support" class="section">
        <div class="section-inner">
            <div class="section-surface section-surface--dark two-column section-surface--from-right" data-section="support">
                <div class="col">
                    <p class="eyebrow">Dana</p>
                    <h2>Supporting the Sangha</h2>
                    <p>
                        North Shore Zen is supported by the generosity of members and friends.
                        Contributions sustain the zendo space, teacher visits, online offerings,
                        and scholarships for retreats. Regular monthly donations, even in modest
                        amounts, help us maintain a stable practice environment.
                    </p>
                    <p>
                        If you wish to support the sangha, you may give in person at the zendo
                        or via electronic donation. Details can be obtained by contacting us directly.
                    </p>
                </div>
                <div class="col">
                    <h3>Membership</h3>
                    <p>
                        Membership is open to those who regard North Shore Zen as a primary place
                        of practice and wish to participate in its ongoing care. Members are invited
                        to take part in work periods, governance, and the shared responsibility for
                        keeping the doors of the zendo open.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="section">
        <div class="section-inner">
            <div class="section-surface two-column section-surface--from-left" data-section="contact">
                <div class="col">
                    <p class="eyebrow">Contact</p>
                    <h2>Contact and Location</h2>
                    <p>
                        For directions, orientation, or questions about the schedule, please email us.
                        We will respond as promptly as possible between periods of formal practice.
                    </p>
                    <p class="contact-line">
                        <img src="img/icon_envelope.png"
                             alt=""
                             class="icon-envelope">
                        <a href="mailto:info@northshorezen.org">info@northshorezen.org</a>
                    </p>
                    <p class="muted">
                        Physical address and detailed directions can be included here.
                    </p>
                </div>
                <div class="col">
                    <h3>Mailing List</h3>
                    <p>
                        To receive notices about schedule changes, retreats, and special events,
                        join our mailing list by sending a brief email with the subject line
                        “Newsletter”. An online subscription form can be added here if you
                        integrate a mailing service.
                    </p>
                </div>
            </div>
        </div>
    </section>
</main>

<footer class="site-footer">
    <div class="site-footer-inner">
        <p>&copy; <span id="year"></span> North Shore Zen. All rights reserved.</p>
        <p class="footer-meta">
            Practise in the Soto Zen tradition on the North Shore.
        </p>
    </div>
</footer>

<script>
    // Header scroll shadow and nav highlighting
    const header = document.querySelector('.site-header');
    const nav = document.getElementById('main-nav');
    const navLinks = Array.from(nav.querySelectorAll('a[href^="#"]'));

    function onScrollHeader() {
        if (window.scrollY > 10) {
            header.classList.add('scrolled');
        } else {
            header.classList.remove('scrolled');
        }
    }
    window.addEventListener('scroll', onScrollHeader);
    onScrollHeader();

    // Mobile nav toggle behaviour
    const navToggle = document.querySelector('.nav-toggle');

    if (navToggle && nav) {
        navToggle.addEventListener('click', () => {
            const expanded = navToggle.getAttribute('aria-expanded') === 'true';
            navToggle.setAttribute('aria-expanded', String(!expanded));
            nav.classList.toggle('site-nav-open');
        });

        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth <= 860) {
                    nav.classList.remove('site-nav-open');
                    navToggle.setAttribute('aria-expanded', 'false');
                }
            });
        });
    }

    // Set current year in footer
    const yearSpan = document.getElementById('year');
    if (yearSpan) {
        yearSpan.textContent = new Date().getFullYear();
    }

    // IntersectionObserver for dramatic section reveal
    const surfaces = document.querySelectorAll('.section-surface');

    function setActiveSection(id) {
        // highlight nav
        navLinks.forEach(link => {
            const targetId = link.getAttribute('href').slice(1);
            if (targetId === id) {
                link.classList.add('is-active');
            } else {
                link.classList.remove('is-active');
            }
        });
    }

    if ('IntersectionObserver' in window) {
        const observer = new IntersectionObserver((entries) => {
            let currentId = null;

            entries.forEach(entry => {
                const surface = entry.target;
                const sectionId = surface.dataset.section;

                if (entry.isIntersecting && entry.intersectionRatio > 0.45) {
                    surface.classList.add('is-active');
                    currentId = sectionId;
                } else if (entry.intersectionRatio < 0.15) {
                    surface.classList.remove('is-active');
                }
            });

            if (currentId) {
                setActiveSection(currentId);
            }
        }, {
            root: null,
            threshold: [0.15, 0.45, 0.8]
        });

        surfaces.forEach(surface => observer.observe(surface));
    } else {
        surfaces.forEach(surface => surface.classList.add('is-active'));
    }

    // Hero parallax effect
    const heroImage = document.querySelector('.hero-image');
    let ticking = false;

    function handleParallax() {
        if (!heroImage) {
            ticking = false;
            return;
        }
        const rect = heroImage.getBoundingClientRect();
        const viewportHeight = window.innerHeight || document.documentElement.clientHeight;
        const center = rect.top + rect.height / 2;
        const ratio = 1 - Math.min(Math.max(center / viewportHeight, 0), 1);
        const translateY = ratio * -18;
        const rotateX = (ratio - 0.5) * 6;

        heroImage.style.transform =
            `translate3d(0, ${translateY}px, 0) rotateX(${rotateX}deg)`;
        ticking = false;
    }

    function onScrollParallax() {
        if (!ticking) {
            window.requestAnimationFrame(handleParallax);
            ticking = true;
        }
    }

    window.addEventListener('scroll', onScrollParallax);
    handleParallax();
</script>

</body>
</html>
